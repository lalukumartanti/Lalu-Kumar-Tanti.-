<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Lalu Kumar Tanti | Premium Profile</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" />
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Orbitron:wght@500;700&family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <!-- FontAwesome 6.5.1 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <style>
    :root {
      /* Theme Variables */
      --text: #ffffff;
      --gold: #FFD700;
      
      /* Dynamic Background Variables (Controlled by JS) */
      --bg-color-1: #000000;
      --bg-color-2: #1a1a2e;
      --bg-color-3: #111111;
      
      --glass: rgba(0, 0, 0, 0.85);
      --card-border: rgba(255,215,0,0.2);
      --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    [data-theme="light"] {
      --text: #1a1a1a;
      --gold: #d4af37;
      --glass: rgba(255, 255, 255, 0.9);
      --card-border: rgba(0,0,0,0.1);
      /* Light mode overrides handled in JS for background */
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    html { scroll-behavior: smooth; }
    body { margin: 0; font-family: 'Poppins', sans-serif; background: #000; color: var(--text); overflow-x: hidden; }

    /* --- PREMIUM WELCOME ENTRANCE --- */
    #entrance-gate {
      position: fixed; inset: 0; z-index: 10000;
      background: radial-gradient(circle at center, #0a0a0a 0%, #000000 100%);
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      transition: all 1s ease-in-out;
      overflow: hidden;
    }

    /* SNOWFLAKE CRYSTAL ANIMATION */
    .snow-container { position: absolute; inset: 0; overflow: hidden; pointer-events: none; }
    .snowflake {
      position: absolute; top: -20px;
      user-select: none;
      animation-name: fall;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
      z-index: 0;
    }
    @keyframes fall {
      0% { transform: translateY(-20px) rotate(0deg); opacity: 0; }
      10% { opacity: 0.9; }
      100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
    }

    /* 3D Gyroscope Photo Wrapper */
    .gyro-container {
      position: relative; width: 160px; height: 160px; margin-bottom: 20px;
      display: flex; align-items: center; justify-content: center;
      perspective: 1000px; z-index: 10;
    }
    .gyro-ring {
      position: absolute; inset: -10px; border-radius: 50%;
      border: 1px solid transparent;
      box-shadow: 0 0 15px rgba(255,215,0,0.1);
    }
    .ring-1 { border-top: 2px solid var(--gold); border-bottom: 2px solid var(--gold); width: 100%; height: 100%; animation: spin 4s linear infinite; }
    .ring-2 { border-left: 2px solid var(--gold); border-right: 2px solid var(--gold); width: 80%; height: 80%; animation: spinReverse 6s linear infinite; }
    .ring-3 { border: 1px dashed rgba(255,215,0,0.4); width: 120%; height: 120%; animation: spin 10s linear infinite; }
    
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    @keyframes spinReverse { 0% { transform: rotate(360deg); } 100% { transform: rotate(0deg); } }

    .welcome-photo {
      width: 130px; height: 130px; border-radius: 50%;
      border: 3px solid #fff; object-fit: cover;
      box-shadow: 0 0 40px rgba(255, 215, 0, 0.4);
      position: relative; z-index: 2;
    }

    /* --- SPECIAL WELCOME PAGE NAME (Very Small & Colorful) --- */
    .welcome-small-name {
      font-family: 'Orbitron', sans-serif;
      font-size: 14px; font-weight: 700;
      letter-spacing: 3px; text-transform: uppercase;
      background: linear-gradient(90deg, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000);
      background-size: 400%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: rainbowAnim 8s linear infinite;
      margin: 15px 0 5px; z-index: 10;
      border: 1px solid rgba(255,255,255,0.2);
      padding: 5px 15px; border-radius: 20px;
      background-color: rgba(0,0,0,0.5);
    }
    @keyframes rainbowAnim { 0% { background-position: 0%; } 100% { background-position: 400%; } }

    .subtitle {
      font-size: 10px; letter-spacing: 2px; color: rgba(255,255,255,0.5);
      text-transform: uppercase; margin-bottom: 30px; z-index: 10;
    }

    .enter-btn {
      background: transparent; border: 1px solid var(--gold); color: var(--gold);
      padding: 12px 35px; border-radius: 50px; font-weight: 700;
      text-transform: uppercase; cursor: pointer; letter-spacing: 2px;
      transition: 0.4s; z-index: 10; font-family: 'Poppins', sans-serif; font-size: 12px;
      box-shadow: 0 0 20px rgba(255,215,0,0.1);
      position: relative; overflow: hidden;
    }
    .enter-btn:hover { background: var(--gold); color: #000; box-shadow: 0 0 40px var(--gold); }

    /* --- DYNAMIC BACKGROUND MESH --- */
    .mesh-bg {
      position: fixed; inset: 0; z-index: -1;
      /* Using CSS Variables that JS will update */
      background: linear-gradient(-45deg, var(--bg-color-1), var(--bg-color-2), var(--bg-color-3));
      background-size: 400% 400%;
      /* meshAnim moves the gradient, transition makes the color change smooth */
      animation: meshAnim 15s ease infinite;
      transition: background 4s ease-in-out; 
    }
    @keyframes meshAnim { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }

    /* --- SETTINGS BUTTON & MODAL --- */
    .settings-icon {
      position: fixed; top: 20px; right: 20px; z-index: 500;
      background: var(--glass); backdrop-filter: blur(10px);
      width: 45px; height: 45px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      border: 1px solid var(--gold); color: var(--gold);
      font-size: 20px; cursor: pointer; transition: var(--transition);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    .settings-icon:hover { transform: rotate(90deg); }

    .settings-modal {
      position: fixed; top: 75px; right: 20px; width: 250px;
      background: var(--glass); backdrop-filter: blur(25px);
      border: 1px solid var(--gold); border-radius: 20px;
      padding: 20px; z-index: 499; opacity: 0; visibility: hidden;
      transform: translateY(-20px); transition: var(--transition);
      box-shadow: 0 10px 40px rgba(0,0,0,0.5);
    }
    .settings-modal.active { opacity: 1; visibility: visible; transform: translateY(0); }
    
    .setting-item { margin-bottom: 15px; }
    .setting-label { font-size: 12px; font-weight: 700; color: var(--gold); margin-bottom: 5px; display: block; }
    
    .theme-toggle {
      display: flex; background: rgba(255,255,255,0.1); border-radius: 30px; padding: 2px;
      position: relative; cursor: pointer; width: 60px; height: 30px; align-items: center;
    }
    .theme-toggle input { display: none; }
    .toggle-ball {
      width: 24px; height: 24px; background: var(--gold); border-radius: 50%;
      position: absolute; left: 3px; transition: 0.3s;
    }
    .theme-toggle input:checked + .toggle-ball { left: 33px; }

    .lang-select {
      width: 100%; background: rgba(255,255,255,0.1); color: var(--text);
      border: 1px solid rgba(255,255,255,0.2); padding: 8px; border-radius: 10px;
      font-family: 'Poppins', sans-serif; font-size: 13px; outline: none;
    }
    .lang-select option { background: #000; color: #fff; }

    /* --- MAIN UI --- */
    .reveal { opacity: 0; transform: translateY(30px); transition: 0.8s; }
    .opened .reveal { opacity: 1; transform: translateY(0); }

    header { padding: 90px 20px 20px; text-align: center; }
    .profile-box {
      width: 130px; height: 130px; margin: 0 auto; border-radius: 50%;
      border: 4px solid var(--gold); padding: 5px; position: relative;
    }
    .profile-box img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; }

    /* Main Page Name (Big & Gold) */
    h1 { margin: 15px 0 5px; font-size: 32px; color: var(--gold); font-weight: 800; font-family: 'Cinzel', serif; }
    .location-text { font-weight: 600; opacity: 0.8; font-size: 13px; color: var(--text); }

    .main-card {
      max-width: 500px; margin: 0 auto 50px; width: 92%;
      background: var(--glass); backdrop-filter: blur(25px);
      border-radius: 35px; padding: 25px 20px; border: 1px solid var(--card-border);
      box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    }

    .btn {
      display: flex; align-items: center; gap: 15px; width: 100%;
      padding: 16px 22px; margin-bottom: 14px; border-radius: 18px;
      color: #fff; font-weight: 700; text-decoration: none; font-size: 15px;
      transition: var(--transition); border: 1px solid rgba(255,255,255,0.1);
      position: relative; overflow: hidden;
    }
    .btn i { font-size: 22px; width: 25px; text-align: center; }
    .btn:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.4); }

    /* Buttons Style */
    .call { background: linear-gradient(135deg, #004e92, #000428); border-left: 5px solid #fff; }
    .sms { background: linear-gradient(135deg, #00d2ff, #3a7bd5); border-left: 5px solid #fff; }
    .mail { background: linear-gradient(45deg, #dd4b39, #d93025); }
    .whatsapp { background: #25D366; }
    .instagram { background: linear-gradient(45deg, #f09433, #dc2743, #bc1888); }
    .facebook { background: #1877F2; }
    .snapchat { background: #FFFC00; color: #000; }
    .spotify { background: #1DB954; }
    .twitter { background: #000; border: 1px solid #444; }
    .youtube { background: #FF0000; }
    .linkedin { background: #0077b5; }
    .telegram { background: #0088cc; }
    .threads { background: #000000; border: 1px solid #333; }
    .phonepe { background: #5f259f; border-left: 5px solid var(--gold); }
    .gpay { background: #4285F4; border-left: 5px solid var(--gold); }
    .maps { background: #ea4335; }

    footer { padding: 30px; font-size: 11px; font-weight: 700; color: var(--gold); opacity: 0.8; text-align: center; }

    .ripple { position: absolute; border-radius: 50%; pointer-events: none; transform: scale(0); background: rgba(255, 255, 255, 0.4); animation: rippleFx 0.6s linear; }
    @keyframes rippleFx { to { transform: scale(4); opacity: 0; } }

    /* --- SULTAN AI BOT PRO --- */
    .ai-float-btn {
      position: fixed; bottom: 30px; right: 30px; width: 65px; height: 65px;
      background: var(--gold); border-radius: 50%; z-index: 600;
      display: flex; align-items: center; justify-content: center;
      box-shadow: 0 0 25px var(--gold-glow); cursor: pointer;
      border: 3px solid #fff; animation: bounce 2.5s infinite; opacity: 0;
      transition: 0.3s;
    }
    .opened .ai-float-btn { opacity: 1; }
    @keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 40% {transform: translateY(-10px);} 60% {transform: translateY(-5px);} }

    .ai-chat-window {
      position: fixed; bottom: 110px; right: 20px; width: 320px; height: 450px;
      background: var(--glass); backdrop-filter: blur(25px);
      border: 1px solid var(--gold); border-radius: 25px;
      display: flex; flex-direction: column; z-index: 599;
      transform-origin: bottom right; transform: scale(0); opacity: 0;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      box-shadow: 0 20px 60px rgba(0,0,0,0.6); overflow: hidden;
    }
    .ai-chat-window.active { transform: scale(1); opacity: 1; }

    .chat-header {
      background: var(--gold); padding: 15px 20px; color: #000;
      display: flex; justify-content: space-between; align-items: center;
      border-bottom: 2px solid rgba(0,0,0,0.1);
    }
    .chat-header h3 { margin: 0; font-size: 15px; font-weight: 800; display: flex; align-items: center; gap: 8px; }
    
    .chat-body {
      flex: 1; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 12px;
      scroll-behavior: smooth;
    }
    
    .chat-msg {
      max-width: 85%; padding: 12px 16px; border-radius: 18px; font-size: 13px; line-height: 1.5; word-wrap: break-word; animation: msgPop 0.3s ease;
    }
    @keyframes msgPop { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

    .chat-msg.bot {
      background: rgba(255,255,255,0.1); align-self: flex-start; border-bottom-left-radius: 4px;
      color: var(--text); border: 1px solid rgba(255,255,255,0.1);
    }
    .chat-msg.user {
      background: var(--gold); color: #000; align-self: flex-end; border-bottom-right-radius: 4px; font-weight: 600;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    .chat-msg a { color: inherit; text-decoration: underline; font-weight: 700; }

    .chat-input-area {
      padding: 12px; border-top: 1px solid rgba(255,255,255,0.1);
      display: flex; gap: 10px; background: rgba(0,0,0,0.2);
    }
    .chat-input {
      flex: 1; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.1); padding: 12px;
      border-radius: 25px; color: var(--text); outline: none; font-family: 'Poppins'; font-size: 13px;
    }
    .chat-input:focus { border-color: var(--gold); background: rgba(0,0,0,0.5); }
    .chat-send {
      background: var(--gold); border: none; width: 45px; height: 45px; border-radius: 50%;
      cursor: pointer; color: #000; display: flex; align-items: center; justify-content: center;
      transition: 0.3s;
    }
    .chat-send:hover { transform: scale(1.1); box-shadow: 0 0 15px var(--gold); }
    
    /* Scrollbar */
    .chat-body::-webkit-scrollbar { width: 4px; }
    .chat-body::-webkit-scrollbar-thumb { background: var(--gold); border-radius: 10px; }

    /* Typing Indicator */
    .typing { font-size: 10px; color: var(--gold); margin-left: 10px; display: none; font-style: italic; }
  </style>
</head>

<body id="main-body">
  
  <!-- PREMIUM ENTRANCE -->
  <div id="entrance-gate">
    <!-- Snow Container -->
    <div class="snow-container" id="snow-container"></div>
    
    <div class="gyro-container">
      <div class="gyro-ring ring-3"></div>
      <div class="gyro-ring ring-2"></div>
      <div class="gyro-ring ring-1"></div>
      <!-- Google Profile Picture -->
      <img src="https://i.ibb.co/X3L7m58/portrait.jpg" alt="Lalu Kumar Tanti" class="welcome-photo">
    </div>

    <!-- VERY SMALL COLORFUL NAME FOR WELCOME PAGE -->
    <div class="welcome-small-name" data-key="name">Lalu Kumar Tanti</div>
    <div class="subtitle">VERIFIED SULTAN</div>
    
    <button class="enter-btn" onclick="enterExperience()">
      <i class="fa-solid fa-fingerprint"></i> <span data-key="enterBtn">Enter Profile</span>
    </button>
  </div>

  <div class="mesh-bg" id="mesh"></div>

  <!-- SETTINGS -->
  <div class="settings-icon" onclick="toggleSettings()">
    <i class="fa-solid fa-gear"></i>
  </div>

  <div class="settings-modal" id="settingsModal">
    <h3 style="margin:0 0 15px; color:var(--text); font-size:16px;">System Config</h3>
    <div class="setting-item">
      <span class="setting-label">THEME MODE</span>
      <label class="theme-toggle">
        <input type="checkbox" id="themeSwitcher" onchange="toggleTheme()">
        <div class="toggle-ball"></div>
        <span style="position:absolute; right:8px; font-size:10px; color:#fff;">Day</span>
        <span style="position:absolute; left:30px; font-size:10px; color:#fff;">Nit</span>
      </label>
    </div>
    <div class="setting-item">
      <span class="setting-label">LANGUAGE / ‡§≠‡§æ‡§∑‡§æ</span>
      <select class="lang-select" onchange="changeLanguage(this.value)">
        <option value="en">English (Default)</option>
        <option value="hi">Hindi (‡§π‡§ø‡§Ç‡§¶‡•Ä)</option>
        <option value="bn">Bengali (‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ)</option>
        <option value="es">Spanish (Espa√±ol)</option>
      </select>
    </div>
  </div>

  <header>
    <div class="profile-box reveal">
      <img src="https://i.ibb.co/X3L7m58/portrait.jpg" alt="Lalu Kumar Tanti">
    </div>
    <h1 class="reveal" data-key="name">Lalu Kumar Tanti</h1>
    <div class="reveal location-text" data-key="location">Jaipur, Banka, Bihar, India</div>
    <div class="reveal" style="margin-top:10px;">
      <span style="color: #000; background: var(--gold); padding: 4px 15px; border-radius: 20px; font-size: 11px; font-weight: 800;" data-key="verified">VERIFIED SULTAN</span>
    </div>
    <div id="clock" class="reveal" style="margin-top:12px; font-weight:800; color: var(--gold);"></div>
  </header>

  <div class="main-card reveal">
    <!-- CONTACT -->
    <a href="tel:+919771317808" class="btn call"><i class="fa-solid fa-phone-volume"></i> <span data-key="call">Direct Call</span></a>
    <a href="sms:+919771317808" class="btn sms"><i class="fa-solid fa-comment-sms"></i> <span data-key="sms">Text Message</span></a>
    <a href="mailto:lalukumartanti75@gmail.com" class="btn mail"><i class="fa-solid fa-envelope"></i> <span data-key="email">Send Email</span></a>
    
    <div style="margin: 20px 0; height: 1px; background: var(--card-border);"></div>
    
    <!-- SOCIALS -->
    <a href="https://wa.me/919771617808" target="_blank" class="btn whatsapp"><i class="fa-brands fa-whatsapp"></i> WhatsApp</a>
    <a href="https://in.linkedin.com/in/lalu-kumar-tanti-540185351" target="_blank" class="btn linkedin"><i class="fa-brands fa-linkedin"></i> LinkedIn</a>
    <a href="https://t.me/Lalu_kumar_tanti_0" target="_blank" class="btn telegram"><i class="fa-brands fa-telegram"></i> Telegram</a>
    <a href="https://www.instagram.com/lalu_kumar_tanti" target="_blank" class="btn instagram"><i class="fa-brands fa-instagram"></i> Instagram</a>
    
    <a href="https://www.threads.net/@lalu_kumar_tanti" target="_blank" class="btn threads"><i class="fa-brands fa-threads"></i> Threads</a>
    
    <a href="https://www.facebook.com/lalukumartantii" target="_blank" class="btn facebook"><i class="fa-brands fa-facebook"></i> Facebook</a>
    <a href="https://www.snapchat.com/add/lalu_kumar77" target="_blank" class="btn snapchat"><i class="fa-brands fa-snapchat"></i> Snapchat</a>
    <a href="https://open.spotify.com/user/31c4utsldd2omujkcxyjbrwgvnou" target="_blank" class="btn spotify"><i class="fa-brands fa-spotify"></i> Spotify</a>
    <a href="https://x.com/LaluKumarTanti" target="_blank" class="btn twitter"><i class="fa-brands fa-x-twitter"></i> X (Twitter)</a>
    <a href="https://www.youtube.com/@Lalu_Kumar_Tanti" target="_blank" class="btn youtube"><i class="fa-brands fa-youtube"></i> YouTube</a>
    <a href="https://github.com/lalukumartanti" target="_blank" class="btn twitter" style="background:#181717"><i class="fa-brands fa-github"></i> GitHub</a>

    <!-- LOCATION -->
    <a href="https://maps.app.goo.gl/BeG2PYziNmuQ85L7A" target="_blank" class="btn maps" style="background:#ea4335"><i class="fa-solid fa-location-dot"></i> <span data-key="gmap">Google Maps</span></a>
    <a href="https://maps.app.goo.gl/bzxq6HnFMoM2bCKd9" target="_blank" class="btn maps" style="background:#4285F4;"><i class="fa-solid fa-shop"></i> <span data-key="bmap">Business Map</span></a>

    <!-- PAYMENTS -->
    <a href="upi://pay?pa=9771617808-2@ybl&pn=Lalu%20Kumar%20Tanti&cu=INR" class="btn phonepe"><i class="fa-solid fa-wallet"></i> PhonePe</a>
    <a href="upi://pay?pa=9771617808-2@axl&pn=Lalu%20Kumar%20Tanti&cu=INR" class="btn gpay"><i class="fa-brands fa-google-pay"></i> Google Pay</a>

    <div style="margin-top:30px; display:flex; align-items:center; justify-content:center; gap:10px;">
      <i class="fa-solid fa-volume-high" style="color:var(--gold); font-size:12px;"></i>
      <input id="volSlider" type="range" min="0" max="1" step="0.01" value="0.3" style="accent-color:var(--gold); cursor:pointer;">
    </div>
  </div>

  <footer>
    ¬© 2026 LALU KUMAR TANTI | ALL RIGHTS RESERVED
  </footer>

  <!-- SULTAN AI WIDGET -->
  <div class="ai-float-btn" onclick="toggleChat()">
    <i class="fa-solid fa-robot" style="font-size: 28px; color:#000;"></i>
  </div>

  <div class="ai-chat-window" id="chatWindow">
    <div class="chat-header">
      <h3><i class="fa-solid fa-microchip" style="color:#000;"></i> SULTAN AI v2.0</h3>
      <i class="fa-solid fa-xmark" onclick="toggleChat()" style="cursor:pointer; font-size:18px;"></i>
    </div>
    <div class="chat-body" id="chatBody">
      <div class="chat-msg bot">
        Namaste! üôè I am Lalu's Personal AI.<br><br>
        Ask me for his <b>Instagram</b>, <b>WhatsApp</b>, <b>GitHub</b>, or ask <b>"How to pay?"</b>.
      </div>
    </div>
    <div class="typing" id="typingIndicator">Sultan AI is typing...</div>
    <div class="chat-input-area">
      <input type="text" id="chatInput" class="chat-input" placeholder="Ask anything..." onkeypress="handleEnter(event)">
      <button class="chat-send" onclick="sendMessage()"><i class="fa-solid fa-paper-plane"></i></button>
    </div>
  </div>

  <script>
    /* --- DYNAMIC BACKGROUND ENGINE (PREMIUM) --- */
    const bgEngine = (() => {
      // 5 Premium Color Palettes
      const palettes = [
        ['#050505', '#1a1a2e', '#4a00e0'], // 1. Deep Cyber (Default)
        ['#0f0c29', '#302b63', '#24243e'], // 2. Mystic Purple
        ['#1c1c1c', '#2c3e50', '#000000'], // 3. Midnight Steel
        ['#190a0a', '#4a0e0e', '#000000'], // 4. Crimson Elite
        ['#000428', '#004e92', '#000000']  // 5. Royal Blue
      ];
      
      const lightPalettes = [
        ['#ffffff', '#f0f2f5', '#e0e0e0'],
        ['#e6e9f0', '#eef1f5', '#ffffff'],
        ['#fdfbfb', '#ebedee', '#fdfbfb']
      ];

      let currentIndex = 0;
      let interval;

      const update = () => {
        const isLight = document.body.getAttribute('data-theme') === 'light';
        const currentSet = isLight ? lightPalettes : palettes;
        
        currentIndex = (currentIndex + 1) % currentSet.length;
        const p = currentSet[currentIndex];

        const root = document.documentElement;
        root.style.setProperty('--bg-color-1', p[0]);
        root.style.setProperty('--bg-color-2', p[1]);
        root.style.setProperty('--bg-color-3', p[2]);
      };

      return {
        start: () => {
          interval = setInterval(update, 6000); // Change every 6 seconds
        },
        refresh: () => {
          currentIndex = -1; // Reset to start
          update();
        }
      };
    })();

    bgEngine.start();

    /* --- DATA & CONFIG --- */
    const dictionary = {
      en: { welcome: "SWAGAT HAI", enterBtn: "Enter Profile", name: "Lalu Kumar Tanti", location: "Jaipur, Banka, Bihar, India", verified: "VERIFIED SULTAN", call: "Direct Call", sms: "Text Message", email: "Send Email", gmap: "Google Maps", bmap: "Business Map" },
      hi: { welcome: "‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à", enterBtn: "‡§™‡•ç‡§∞‡§µ‡•á‡§∂ ‡§ï‡§∞‡•á‡§Ç", name: "‡§≤‡§æ‡§≤‡•Ç ‡§ï‡•Å‡§Æ‡§æ‡§∞ ‡§§‡§æ‡§Ç‡§§‡•Ä", location: "‡§ú‡§Ø‡§™‡•Å‡§∞, ‡§¨‡§æ‡§Ç‡§ï‡§æ, ‡§¨‡§ø‡§π‡§æ‡§∞, ‡§≠‡§æ‡§∞‡§§", verified: "‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§ ‡§∏‡•Å‡§≤‡•ç‡§§‡§æ‡§®", call: "‡§ï‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç", sms: "‡§Æ‡•à‡§∏‡•á‡§ú ‡§≠‡•á‡§ú‡•á‡§Ç", email: "‡§à‡§Æ‡•á‡§≤ ‡§≠‡•á‡§ú‡•á‡§Ç", gmap: "‡§ó‡•Ç‡§ó‡§≤ ‡§Æ‡•à‡§™‡•ç‡§∏", bmap: "‡§¨‡§ø‡§ú‡§®‡•á‡§∏ ‡§Æ‡•à‡§™" },
      bn: { welcome: "‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ", enterBtn: "‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®", name: "‡¶≤‡¶æ‡¶≤‡ßÅ ‡¶ï‡ßÅ‡¶Æ‡¶æ‡¶∞ ‡¶§‡¶æ‡¶Å‡¶§‡¶ø", location: "‡¶ú‡¶Ø‡¶º‡¶™‡ßÅ‡¶∞, ‡¶¨‡¶æ‡¶Å‡¶ï‡¶æ, ‡¶¨‡¶ø‡¶π‡¶æ‡¶∞, ‡¶≠‡¶æ‡¶∞‡¶§", verified: "‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á‡¶ï‡ßÉ‡¶§ ‡¶∏‡ßÅ‡¶≤‡¶§‡¶æ‡¶®", call: "‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®", sms: "‡¶è‡¶∏‡¶è‡¶Æ‡¶è‡¶∏ ‡¶™‡¶æ‡¶†‡¶æ‡¶®", email: "‡¶á‡¶Æ‡ßá‡¶≤ ‡¶™‡¶æ‡¶†‡¶æ‡¶®", gmap: "‡¶ó‡ßÅ‡¶ó‡¶≤ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶™‡¶∏", bmap: "‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ ‡¶Æ‡¶æ‡¶®‡¶ö‡¶ø‡¶§‡ßç‡¶∞" },
      es: { welcome: "BIENVENIDO", enterBtn: "Entrar", name: "Lalu Kumar Tanti", location: "Jaipur, Banka, Bihar, India", verified: "SULT√ÅN VERIFICADO", call: "Llamar", sms: "Mensaje", email: "Enviar Correo", gmap: "Mapas Google", bmap: "Mapa Negocio" }
    };

    /* --- BOT KNOWLEDGE BASE --- */
    const knowledgeBase = {
      socials: {
        instagram: "https://www.instagram.com/lalu_kumar_tanti",
        facebook: "https://www.facebook.com/lalukumartantii",
        whatsapp: "https://wa.me/919771617808",
        linkedin: "https://in.linkedin.com/in/lalu-kumar-tanti-540185351",
        twitter: "https://x.com/LaluKumarTanti",
        github: "https://github.com/lalukumartanti",
        youtube: "https://www.youtube.com/@Lalu_Kumar_Tanti",
        telegram: "https://t.me/Lalu_kumar_tanti_0",
        snapchat: "https://www.snapchat.com/add/lalu_kumar77",
        threads: "https://www.threads.net/@lalu_kumar_tanti",
        spotify: "https://open.spotify.com/user/31c4utsldd2omujkcxyjbrwgvnou"
      },
      payment: "upi://pay?pa=9771617808-2@ybl&pn=Lalu%20Kumar%20Tanti&cu=INR",
      phone: "+91 9771317808"
    };

    /* --- FUNCTIONS --- */
    function toggleSettings() { document.getElementById('settingsModal').classList.toggle('active'); }

    function toggleTheme() {
      const isChecked = document.getElementById('themeSwitcher').checked;
      document.body.setAttribute('data-theme', isChecked ? 'light' : '');
      bgEngine.refresh(); // Update background immediately
    }

    function changeLanguage(lang) {
      const data = dictionary[lang];
      document.querySelectorAll('[data-key]').forEach(el => {
        const key = el.getAttribute('data-key');
        if(data[key]) el.innerText = data[key];
      });
    }

    /* --- ADVANCED AI BOT LOGIC --- */
    function toggleChat() {
      const win = document.getElementById('chatWindow');
      win.classList.toggle('active');
      if(win.classList.contains('active')) {
        setTimeout(() => document.getElementById('chatInput').focus(), 400);
      }
    }

    function handleEnter(e) { if(e.key === 'Enter') sendMessage(); }

    function sendMessage() {
      const input = document.getElementById('chatInput');
      const text = input.value.trim().toLowerCase();
      if(!text) return;

      addMessage(input.value, 'user');
      input.value = '';
      
      const typer = document.getElementById('typingIndicator');
      typer.style.display = 'block';
      const chatBody = document.getElementById('chatBody');
      chatBody.scrollTop = chatBody.scrollHeight;

      setTimeout(() => {
        typer.style.display = 'none';
        const response = getBotResponse(text);
        addMessage(response, 'bot');
      }, 800 + Math.random() * 500); 
    }

    function getBotResponse(text) {
      if(text.includes('insta')) return `Here is Lalu's Instagram: <br><a href="${knowledgeBase.socials.instagram}" target="_blank">Open Instagram</a>`;
      if(text.includes('face') || text.includes('fb')) return `Check his Facebook here: <br><a href="${knowledgeBase.socials.facebook}" target="_blank">Open Facebook</a>`;
      if(text.includes('what') || text.includes('app') || text.includes('chat')) return `Chat on WhatsApp directly: <br><a href="${knowledgeBase.socials.whatsapp}" target="_blank">Open WhatsApp</a>`;
      if(text.includes('link') || text.includes('in')) return `Connect on LinkedIn: <br><a href="${knowledgeBase.socials.linkedin}" target="_blank">Open LinkedIn</a>`;
      if(text.includes('git') || text.includes('code') || text.includes('repo')) return `Explore his Code on GitHub: <br><a href="${knowledgeBase.socials.github}" target="_blank">Open GitHub</a>`;
      if(text.includes('tweet') || text.includes('twitter') || text.includes('x')) return `Follow on X (Twitter): <br><a href="${knowledgeBase.socials.twitter}" target="_blank">Open X Profile</a>`;
      if(text.includes('tube') || text.includes('video') || text.includes('channel')) return `Watch on YouTube: <br><a href="${knowledgeBase.socials.youtube}" target="_blank">Open YouTube</a>`;
      if(text.includes('tele')) return `Join Telegram: <br><a href="${knowledgeBase.socials.telegram}" target="_blank">Open Telegram</a>`;
      if(text.includes('snap')) return `Add on Snapchat: <br><a href="${knowledgeBase.socials.snapchat}" target="_blank">Open Snapchat</a>`;

      if(text.includes('pay') || text.includes('money') || text.includes('upi') || text.includes('gpay') || text.includes('phonepe')) {
        return `You can send payments via UPI.<br><b>ID:</b> 9771617808-2@ybl<br><a href="${knowledgeBase.payment}">Click to Pay Now</a>`;
      }

      if(text.includes('number') || text.includes('call') || text.includes('phone')) {
        return `His official number is: <b>${knowledgeBase.phone}</b>.<br>You can click the blue 'Direct Call' button above.`;
      }
      
      if(text.includes('who') || text.includes('lalu') || text.includes('bio')) {
        return `Lalu Kumar Tanti is a Tech Expert from <b>Banka, Bihar</b>. He is a developer, content creator, and social influencer.`;
      }
      
      if(text.includes('hi') || text.includes('hello') || text.includes('hey')) {
        return "Hello there! üëã I am ready to help you find links or info about Lalu.";
      }

      return "I didn't quite catch that. Try asking for: <b>Instagram, WhatsApp, GitHub,</b> or <b>Payment Info</b>.";
    }

    function addMessage(html, type) {
      const body = document.getElementById('chatBody');
      const div = document.createElement('div');
      div.className = `chat-msg ${type}`;
      div.innerHTML = html;
      body.appendChild(div);
      body.scrollTop = body.scrollHeight;
      if(type === 'bot' && navigator.vibrate) navigator.vibrate(20);
    }

    /* --- SNOW CRYSTAL ANIMATION --- */
    function createSnow() {
      const container = document.getElementById('snow-container');
      const colors = ['#ffffff', '#FFD700', '#00D2FF', '#FF00E0', '#ADFF2F'];
      for (let i = 0; i < 50; i++) {
        const el = document.createElement('div');
        el.className = 'snowflake';
        el.innerText = '‚ùÑ';
        el.style.left = Math.random() * 100 + '%';
        el.style.color = colors[Math.floor(Math.random() * colors.length)];
        el.style.fontSize = (Math.random() * 20 + 10) + 'px';
        el.style.animationDuration = (Math.random() * 5 + 3) + 's';
        el.style.animationDelay = (Math.random() * 5) + 's';
        container.appendChild(el);
      }
    }
    createSnow();

    /* --- AUDIO & ENTRY --- */
    const AudioEngine = (() => {
      let ctx, gain;
      const init = () => {
        if (!ctx) {
          ctx = new(window.AudioContext || window.webkitAudioContext)();
          gain = ctx.createGain();
          gain.connect(ctx.destination);
          gain.gain.value = 0.3;
        }
      };
      return {
        playClick: () => {
          init();
          if (ctx.state === 'suspended') ctx.resume();
          const osc = ctx.createOscillator();
          const g = ctx.createGain();
          osc.type = 'triangle';
          osc.frequency.setValueAtTime(800, ctx.currentTime);
          osc.frequency.exponentialRampToValueAtTime(100, ctx.currentTime + 0.1);
          g.gain.setValueAtTime(0.3, ctx.currentTime);
          g.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.1);
          osc.connect(g);
          g.connect(gain);
          osc.start();
          osc.stop(ctx.currentTime + 0.1);
        },
        playEntry: () => {
          init();
          const osc = ctx.createOscillator();
          const g = ctx.createGain();
          osc.type = 'sine';
          osc.frequency.setValueAtTime(100, ctx.currentTime);
          osc.frequency.exponentialRampToValueAtTime(800, ctx.currentTime + 1.0);
          g.gain.setValueAtTime(0, ctx.currentTime);
          g.gain.linearRampToValueAtTime(0.3, ctx.currentTime + 0.5);
          g.gain.linearRampToValueAtTime(0, ctx.currentTime + 1.0);
          osc.connect(g);
          g.connect(gain);
          osc.start();
          osc.stop(ctx.currentTime + 1.0);
        }
      };
    })();

    function enterExperience() {
      AudioEngine.playEntry();
      const gate = document.getElementById('entrance-gate');
      gate.style.transform = "scale(1.5)";
      gate.style.opacity = "0";
      setTimeout(() => {
        gate.style.display = "none";
        document.getElementById('mesh').style.opacity = "1";
        document.body.classList.add('opened');
      }, 800);
    }

    function updateClock() {
      const el = document.getElementById('clock');
      const now = new Date();
      el.innerText = now.toLocaleString('en-IN', {
        weekday: 'short', day: 'numeric', month: 'short', hour: '2-digit', minute: '2-digit'
      });
    }

    document.querySelectorAll('.btn').forEach(b => {
      b.addEventListener('click', (e) => {
        AudioEngine.playClick();
        if (navigator.vibrate) navigator.vibrate(25);
        const r = document.createElement('span');
        r.className = 'ripple';
        const s = Math.max(b.clientWidth, b.clientHeight);
        r.style.width = r.style.height = `${s}px`;
        const rect = b.getBoundingClientRect();
        r.style.left = `${e.clientX - rect.left - s/2}px`;
        r.style.top = `${e.clientY - rect.top - s/2}px`;
        b.appendChild(r);
        setTimeout(() => r.remove(), 600);
      });
    });

    document.addEventListener('click', (e) => {
      const sModal = document.getElementById('settingsModal');
      const sBtn = document.querySelector('.settings-icon');
      if (!sModal.contains(e.target) && !sBtn.contains(e.target) && sModal.classList.contains('active')) {
        sModal.classList.remove('active');
      }
    });

    window.onload = () => { setInterval(updateClock, 1000); };
  </script>
</body>
</html>